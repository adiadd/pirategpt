#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Format check first (fastest)
echo "\nğŸ’… Checking code formatting..."
pnpm format:check

# Run lint-staged (includes eslint)
echo "\nğŸ”¬ Running lint checks..."
pnpm lint-staged

# Run type checking
echo "\nğŸ“ Checking TypeScript types..."
pnpm typecheck

# If everything passes, format the files
echo "\nâœ¨ Formatting code..."
pnpm format:write

echo "\nâœ… All checks passed! Committing changes..."
